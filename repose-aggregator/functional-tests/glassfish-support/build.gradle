apply from: "$rootDir/gradle/baseProject.gradle"

apply plugin: 'application'
apply plugin: 'com.github.johnrengelman.shadow'

dependencies {
    compile project(":repose-aggregator:functional-tests:container-support"),
            "org.glassfish.main.extras:glassfish-embedded-all:3.1.2.2",
            "commons-cli:commons-cli:1.2",
            "org.apache.logging.log4j:log4j-slf4j-impl:$log4jVersion",
            "org.apache.logging.log4j:log4j-api:$log4jVersion",
            "org.apache.logging.log4j:log4j-core:$log4jVersion"
}

mainClassName = "org.openrepose.commons.utils.test.glassfish.ReposeGlassfishServer"

tasks.build.dependsOn("shadowJar")


artifacts {
    shadow shadowJar
}